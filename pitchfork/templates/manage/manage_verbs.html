{% extends "_base.html" %}
{% block title %} - Manage Verbs{% endblock %}
{% block addHeaders %}
{% endblock %}
{% block body %}
	<h1>Manage API Verbs</h1>
    <h4>Setup Verb</h4>
    <form method="POST" action="" class="form-horizontal" id="add_form">
        {{ form.hidden_tag() }}
        {% for field in form if field.widget.input_type not in ['hidden', 'submit'] %}
            <div class="form-group{% if field.errors %} has-error has-feedback{% endif %}" id="{{ field.name }}_top">
                {{ field.label(class="col-sm-1 control-label") }}
                <div class="col-xs-3">
                    {% if field.type == 'TextField' %}
                        {{ field(class="form-control", **{'type': 'text'})|safe }}
                    {% elif field.type == 'BooleanField' %}
                        {{ field(type="checkbox") }}
                    {% else %}
                        {{ field(class="form-control") }}
                    {% endif %}
                    <span class="form-control-feedback {{ field.name }}" style="display: none; color: #B94A48; float: right; margin: -28px 0 0 0;">Field Required</span>
                </div>
            </div>
        {% endfor %}
        <div class="form-group">
            <div class="col-sm-offset-1 col-xs-2">
                {% for field in form if (field.widget.input_type == 'submit') %}
                    {{ field(class="btn btn-primary") }}
                {% endfor %}
            </div>
        </div>
    </form>
    <h4>API Verbs</h4>
    {% if api_settings %}
        {% if api_settings.get('verbs') %}
            <table class="table table-hover table-condensed" style="width: 600px;">
                <thead>
                    <tr>
                        <th style="text-align: left;">Verb</th>
                        <th style="text-align: center;">Active</th>
                        <th></th>
                    </tr>
                </thead>
                <tbody>
                    {% for verb in api_settings.get('verbs') %}
                        <tr>
                            <td>
                                {{ verb.get('name') }}
                            </td>
                            <td style="text-align: center;">
                                {% if verb.get('active') %}
                                    <span class="fa fa-check text-success"></span>
                                {% else %}
                                    <span class="fa fa-minus text-danger"></span>
                                {% endif %}
                            </td>
                            <td>
                                {% if verb.get('active') %}
                                    <a href="/manage/verbs/deactivate/{{ verb.get('name') }}" class="tooltip-title" title="Deactivate API Verb"><span class="fa fa-ban"></span></a>
                                {% else %}
                                    <a href="/manage/verbs/activate/{{ verb.get('name') }}" class="tooltip-title" title="Activate API Verb"><span class="fa fa-check-circle-o"></span></a>
                                {% endif %}
                               <a href="/manage/verbs/delete/{{ verb.get('name') }}" class="tooltip-title" title="Delete API Verb"><span class="fa fa-trash-o"></span></a>
                            </td>
                        </tr>
                    {% endfor %}
                </tbody>
            </table>
        {% else %}
            <p>There are currently no API verbs setup in the system</p>
        {% endif %}
    {% else %}
        <p>There are currently no API verbs setup in the system</p>
    {% endif %}

{% endblock %}
{% block jquery %}
    <script>
        $(document).ready(function() {
            $('.tooltip-title').tooltip();
        });
    </script>
{% endblock %}
